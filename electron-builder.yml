appId: cz.tenderflow.desktop
productName: Tender Flow
copyright: Copyright Â© 2026 Tender Flow

directories:
  output: dist-electron
  buildResources: assets

files:
  - desktop/dist/**/*
  - desktop/node_modules/**/*
  - dist/**/*
  - package.json

extraMetadata:
  main: desktop/dist/main.js
  type: commonjs

asar: true

# Native modules must be unpacked from ASAR for proper loading
asarUnpack:
  - "**/node_modules/win-hello/**"
  - "**/*.node"

# Auto-update publish configuration
publish:
  provider: github
  owner: Martin82K
  repo: Tender-Flow
  releaseType: release

mac:
  category: public.app-category.business
  target:
    - target: dmg
      arch:
        - arm64
    - target: zip
      arch:
        - arm64
  icon: assets/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: desktop/entitlements.mac.plist
  entitlementsInherit: desktop/entitlements.mac.plist

win:
  artifactName: Tender-Flow-Setup-${version}.${ext}
  target:
    - target: nsis
      arch:
        - x64
  icon: assets/icon.ico

nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  installerIcon: assets/icon.ico
  uninstallerIcon: assets/icon.ico
  createDesktopShortcut: true
  createStartMenuShortcut: true

linux:
  target:
    - target: AppImage
    - target: deb
  category: Office
  icon: assets/icons
